<!DOCTYPE html>
<html>
<head>
	<title>Node world server</title>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  	<script src="https://kit.fontawesome.com/<%= fontAwesomeKit %>.js" crossorigin="anonymous"></script>
  	<script type="text/javascript" src="js/main.js"></script>
</head>
<body>
	<div id="functionalities">
  	<ul>
    	<li><a href="#timezones_view"><i class="fa fa-globe fa-1x"></i>&nbsp;<%= __('Timezones_visualization')%></a></li>
    	<li><a href="#github_view"><i class="fa fa-github fa-1x"></i>&nbsp;<%= __('GitHub_visualization')%></a></li>
  	</ul>
  	<div id="timezones_view">
		<div id="forms_displayer">
			<p>
				<form id="choosen_language_form" method="post" action="/">
					<input type="hidden" name="current_form" value="choosen_language_form">
					<%= __('Language_choice')%> :
					<select class="select_menu" id="choosen_language" name="choosen_language">
						<% for(var i = 0; i < selectionnableLanguages.length; i++){ %>
							<option value="<%= selectionnableLanguages[i].value %>" <%= selectionnableLanguages[i].selected %>><%= __(selectionnableLanguages[i].text)%></option>
						<% } %>
					</select>
				</form>
				<br>
				<form id="choosen_format_form" method="post" action="/">
					<input type="hidden" name="current_form" value="choosen_format_form">
					<%= __('Date_and_time_format_choice')%> :
					<select class="select_menu" id="choosen_date_and_time_format" name="choosen_date_and_time_format">
						<% for(var i = 0; i < formats.length; i++){ %>
							<option value="<%= formats[i].id %>" <%= formats[i].selected %>><%= formats[i].format %></option>
						<% } %>
					</select>
				</form>
				<br>
				<form id="choosen_country_code_form" method="post" action="/">
					<input type="hidden" name="current_form" value="choosen_country_code_form">
					<%= __('countrycode_timezone_choice')%> :
					<select class="select_menu" id="choosen_country_code" name="choosen_country_code">
						<% for(var countryCode in countryCodeHashTable){ %>
							<option value="<%= countryCode %>" <%= countryCodeHashTable[countryCode] %>><%= countryCode %></option>
						<% } %>
					</select>
				</form>
				<br>
				<form id="choosen_temperature_unit_form" method="post" action="/">
					<input type="hidden" name="current_form" value="choosen_temperature_unit_form">
					<%= __('temperature_unit_choice')%> :
					<select class="select_menu" id="choosen_temperature_unit" name="choosen_temperature_unit">
						<% for(var i = 0; i < selectionnableTemperatureUnits.length; i++){ %>
							<option value="<%= selectionnableTemperatureUnits[i].unit %>" <%= selectionnableTemperatureUnits[i].selected %>><%= selectionnableTemperatureUnits[i].unit %> (<%= selectionnableTemperatureUnits[i].symbol %>)</option>
						<% } %>
					</select>
				</form>
				<h1><%= __('Hello')%></h1>
			</p>
		</div>
		<div id="timezones_displayer">
			<% for(var i = 0; i < timezones.length; i++){ %>
				<h3 style="color: <%= timezones[i].color %>"><%= timezones[i].timezone %> (<%= timezones[i].country_code %>): <%= timezones[i].moment.format(currentDateAndTimeFormat) %></h3>
				<div>
						<% if(weatherResults[i].cod === 200) { %>

							<div>
								<div style="float: left; text-align: center; width: 100px;">
									<div style="text-align: center; width: 100px;">
										<img src="<%= weatherResults[i].weather_icon %>" alt="weather illustration">
									</div>
									<div style="text-align: center; width: 100px;">
										<img src="<%= currentCountryFlagURL %>" alt="location's flag">
									</div>
								</div>
								<div class="weather_tab" id="gm_tab" style="float: left; margin-left: 10px;">
									<table>
										<tbody>
											<tr>
									        	<td><%= __('Description')%>: <%= __(weatherResults[i].weather_description)%></td>
									        </tr>
									        <tr>
									        	<td><%= __('Localisation')%>: (<%= weatherResults[i].longitude %>, <%= weatherResults[i].latitude %>)</td>
									        </tr>
									        <tr>
									        	<td><%= __('Country')%>: <%= weatherResults[i].sys_country %></td>
									        </tr>
									        <tr>
									            <td><%= __('Sunrise')%>: <%= weatherResults[i].sys_sunrise %></td>
									        </tr>
									        <tr>
									        	<td><%= __('Sunset')%>: <%= weatherResults[i].sys_sunset %></td>
									        </tr>
									    </tbody>
									</table>
								</div>
								<div class="weather_tab" id="tp_tab" style="float: left; margin-left: 10px;">
									<table>
										<tbody>
											<tr>
												<td><%= __('Pressure')%> (hPa): <%= weatherResults[i].main_pressure %></td>
											</tr>
									        <tr>
									            <td><%= __('Temperature')%> (<%= currentTemperatureUnitSymbol %>): <%= weatherResults[i].main_temp %></td>
									        </tr>
									        <tr>
									        	<td><%= __('Maximum_temperature')%> (<%= currentTemperatureUnitSymbol %>): <%= weatherResults[i].main_temp_max %></td>
									        </tr>
									        <tr>
									            <td><%= __('Minimum_temperature')%> (<%= currentTemperatureUnitSymbol %>): <%= weatherResults[i].main_temp_min %></td>
									        </tr>
									        <tr>
									        	<td><%= __('Feeling_like_temperature')%> (<%= currentTemperatureUnitSymbol %>): <%= weatherResults[i].main_feels_like %></td>
									        </tr>
									    </tbody>
									</table>
								</div>
								<div class="weather_tab" id="ot_tab" style="float: left; margin-left: 10px;">
									<table>
										<tbody>
											<tr>
												<td><%= __('Clouds')%>: <%= weatherResults[i].clouds_all %></td>
											</tr>
									        <tr>
									            <td><%= __('Wind_speed')%>: <%= weatherResults[i].wind_speed %></td>
									        </tr>
									        <tr>
									        	<td><%= __('Wind_deg')%>: <%= weatherResults[i].wind_deg %></td>
									        </tr>
									        <tr>
									            <td><%= __('Offset_from_UTC')%> (<%= __('In_seconds')%>): <%= weatherResults[i].timezone %></td>
									        </tr>
									        <tr>
									        	<td><%= __('Humidity')%> (%): <%= weatherResults[i].main_humidity %></td>
									        </tr>
									    </tbody>
									</table>
								</div>
								<div class="weather_tab" id="uv_tab" style="float: left; margin-left: 10px;">
									<table>
										<tbody>
											<tr>
												<td><%= __('UV_index')%>: <%= weatherResults[i].uv_value %></td>
											</tr>
											<tr>
												<td><%= __('UV_risk')%>: <%= __(weatherResults[i].uv_risk)%></td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>

						<% } else { %>

							<% if(weatherResults[i].message === "city not found"){ %>

								<div>
									<div style="float: left; text-align: center; width: 100px;">
										<div style="text-align: center; width: 100px;">
											<img src="images/image.png" alt="weather illustration" width="60" height="60">
										</div>
										<div style="text-align: center; width: 100px;">
											<img src="<%= currentCountryFlagURL %>" alt="location's flag">
										</div>
									</div>
									<div style="float: left; margin-left: 10px;  margin-top: 20px;">
										<%= __('City_not_found')%>
									</div>
								</div>

							<% } else if(weatherResults[i].message === "Invalid API key. Please see http://openweathermap.org/faq#error401 for more info.") { %>

								<div>
									<div style="float: left; text-align: center; width: 100px;">
										<div style="text-align: center; width: 100px;">
											<img src="images/image.png" alt="weather illustration" width="60" height="60">
										</div>
										<div style="text-align: center; width: 100px;">
											<img src="<%= currentCountryFlagURL %>" alt="location's flag">
										</div>
									</div>
									<div style="float: left; margin-left: 10px;  margin-top: 20px;">
										<%= __('Invalid_api_key')%>
									</div>
								</div>

							<% } %>

						<% } %>
				</div>
			<% } %>
		</div>
  </div>
  <div id="github_view">
  	<p>
  		<form id="second_choosen_language_form" method="post" action="/">
					<input type="hidden" name="current_form" value="choosen_language_form">
					<%= __('Language_choice')%> :
					<select class="select_menu" id="second_choosen_language" name="choosen_language">
						<% for(var i = 0; i < selectionnableLanguages.length; i++){ %>
							<option value="<%= selectionnableLanguages[i].value %>" <%= selectionnableLanguages[i].selected %>><%= __(selectionnableLanguages[i].text)%></option>
						<% } %>
					</select>
		</form>
  		<h1><%= __('Hello')%></h1>
  	</p>
    <p>
    	<%= __('Ragnarok')%>
    </p>
  </div>
</div>
</body>
</html>
